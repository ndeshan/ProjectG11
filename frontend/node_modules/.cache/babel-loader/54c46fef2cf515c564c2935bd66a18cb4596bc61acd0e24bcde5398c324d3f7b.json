{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Container,Grid,Card,CardContent,Typography,Button,Box,Chip}from'@mui/material';import{Link}from'react-router-dom';import AccessTimeIcon from'@mui/icons-material/AccessTime';import PeopleIcon from'@mui/icons-material/People';import{canteenAPI}from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Home=()=>{const[canteens,setCanteens]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{fetchCanteens();},[]);const fetchCanteens=async()=>{try{const response=await canteenAPI.getAll();setCanteens(response.data.canteens);}catch(error){console.error('Error fetching canteens:',error);}finally{setLoading(false);}};const getPeakStatusColor=status=>{switch(status){case'low':return'success';case'medium':return'warning';case'high':return'error';default:return'default';}};if(loading){return/*#__PURE__*/_jsx(Container,{sx:{mt:4},children:/*#__PURE__*/_jsx(Typography,{children:\"Loading canteens...\"})});}return/*#__PURE__*/_jsxs(Container,{maxWidth:\"lg\",sx:{mt:4,mb:4},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h3\",component:\"h1\",gutterBottom:true,align:\"center\",children:\"\\uD83C\\uDF7D\\uFE0F Campus Canteen System\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",align:\"center\",color:\"text.secondary\",paragraph:true,children:\"Authentic Sri Lankan Foods & School Supplies - Skip the queues, order ahead!\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",align:\"center\",color:\"text.secondary\",paragraph:true,children:\"\\uD83C\\uDF5B Rice & Curry \\u2022 \\uD83E\\uDD58 Rotti & Dhal \\u2022 \\uD83C\\uDF5C Kottu \\u2022 \\uD83D\\uDCDA School Items\"}),/*#__PURE__*/_jsx(Grid,{container:true,spacing:4,sx:{mt:2},children:canteens.map(canteen=>/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsx(Card,{sx:{height:'100%',display:'flex',flexDirection:'column'},children:/*#__PURE__*/_jsxs(CardContent,{sx:{flexGrow:1},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",component:\"h2\",gutterBottom:true,children:canteen.name}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"text.secondary\",gutterBottom:true,children:[\"\\uD83D\\uDCCD \",canteen.location]}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',gap:1,mb:2,flexWrap:'wrap'},children:[/*#__PURE__*/_jsx(Chip,{icon:/*#__PURE__*/_jsx(PeopleIcon,{}),label:\"\".concat(canteen.current_queue_count,\" in queue\"),size:\"small\"}),/*#__PURE__*/_jsx(Chip,{icon:/*#__PURE__*/_jsx(AccessTimeIcon,{}),label:\"\".concat(canteen.estimated_wait_time,\" min wait\"),size:\"small\",color:getPeakStatusColor('low')})]}),/*#__PURE__*/_jsx(Box,{sx:{display:'flex',gap:1,mt:2},children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",component:Link,to:\"/menu/\".concat(canteen.id),fullWidth:true,children:\"View Menu & Order\"})})]})})},canteen.id))}),/*#__PURE__*/_jsxs(Box,{sx:{mt:6,textAlign:'center'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",gutterBottom:true,children:\"Quick Actions\"}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',gap:2,justifyContent:'center',flexWrap:'wrap'},children:[/*#__PURE__*/_jsx(Button,{variant:\"outlined\",component:Link,to:\"/queue-status\",children:\"Check Queue Status\"}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",component:Link,to:\"/orders\",children:\"My Orders\"})]})]})]});};export default Home;","map":{"version":3,"names":["React","useState","useEffect","Container","Grid","Card","CardContent","Typography","Button","Box","Chip","Link","AccessTimeIcon","PeopleIcon","canteenAPI","jsx","_jsx","jsxs","_jsxs","Home","canteens","setCanteens","loading","setLoading","fetchCanteens","response","getAll","data","error","console","getPeakStatusColor","status","sx","mt","children","maxWidth","mb","variant","component","gutterBottom","align","color","paragraph","container","spacing","map","canteen","item","xs","md","height","display","flexDirection","flexGrow","name","location","gap","flexWrap","icon","label","concat","current_queue_count","size","estimated_wait_time","to","id","fullWidth","textAlign","justifyContent"],"sources":["/home/nipuna/ProjectG1/frontend/src/pages/Home.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Container, Grid, Card, CardContent, Typography, Button, Box, Chip } from '@mui/material';\nimport { Link } from 'react-router-dom';\nimport AccessTimeIcon from '@mui/icons-material/AccessTime';\nimport PeopleIcon from '@mui/icons-material/People';\nimport { canteenAPI } from '../services/api';\n\nconst Home = () => {\n  const [canteens, setCanteens] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fetchCanteens();\n  }, []);\n\n  const fetchCanteens = async () => {\n    try {\n      const response = await canteenAPI.getAll();\n      setCanteens(response.data.canteens);\n    } catch (error) {\n      console.error('Error fetching canteens:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getPeakStatusColor = (status) => {\n    switch (status) {\n      case 'low': return 'success';\n      case 'medium': return 'warning';\n      case 'high': return 'error';\n      default: return 'default';\n    }\n  };\n\n  if (loading) {\n    return (\n      <Container sx={{ mt: 4 }}>\n        <Typography>Loading canteens...</Typography>\n      </Container>\n    );\n  }\n\n  return (\n    <Container maxWidth=\"lg\" sx={{ mt: 4, mb: 4 }}>\n      <Typography variant=\"h3\" component=\"h1\" gutterBottom align=\"center\">\n        üçΩÔ∏è Campus Canteen System\n      </Typography>\n      \n      <Typography variant=\"h6\" align=\"center\" color=\"text.secondary\" paragraph>\n        Authentic Sri Lankan Foods & School Supplies - Skip the queues, order ahead!\n      </Typography>\n      \n      <Typography variant=\"body1\" align=\"center\" color=\"text.secondary\" paragraph>\n        üçõ Rice & Curry ‚Ä¢ ü•ò Rotti & Dhal ‚Ä¢ üçú Kottu ‚Ä¢ üìö School Items\n      </Typography>\n\n      <Grid container spacing={4} sx={{ mt: 2 }}>\n        {canteens.map((canteen) => (\n          <Grid item xs={12} md={6} key={canteen.id}>\n            <Card sx={{ height: '100%', display: 'flex', flexDirection: 'column' }}>\n              <CardContent sx={{ flexGrow: 1 }}>\n                <Typography variant=\"h5\" component=\"h2\" gutterBottom>\n                  {canteen.name}\n                </Typography>\n                \n                <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\n                  üìç {canteen.location}\n                </Typography>\n\n                <Box sx={{ display: 'flex', gap: 1, mb: 2, flexWrap: 'wrap' }}>\n                  <Chip\n                    icon={<PeopleIcon />}\n                    label={`${canteen.current_queue_count} in queue`}\n                    size=\"small\"\n                  />\n                  <Chip\n                    icon={<AccessTimeIcon />}\n                    label={`${canteen.estimated_wait_time} min wait`}\n                    size=\"small\"\n                    color={getPeakStatusColor('low')}\n                  />\n                </Box>\n\n                <Box sx={{ display: 'flex', gap: 1, mt: 2 }}>\n                  <Button\n                    variant=\"contained\"\n                    component={Link}\n                    to={`/menu/${canteen.id}`}\n                    fullWidth\n                  >\n                    View Menu & Order\n                  </Button>\n                </Box>\n              </CardContent>\n            </Card>\n          </Grid>\n        ))}\n      </Grid>\n\n      <Box sx={{ mt: 6, textAlign: 'center' }}>\n        <Typography variant=\"h5\" gutterBottom>\n          Quick Actions\n        </Typography>\n        <Box sx={{ display: 'flex', gap: 2, justifyContent: 'center', flexWrap: 'wrap' }}>\n          <Button variant=\"outlined\" component={Link} to=\"/queue-status\">\n            Check Queue Status\n          </Button>\n          <Button variant=\"outlined\" component={Link} to=\"/orders\">\n            My Orders\n          </Button>\n        </Box>\n      </Box>\n    </Container>\n  );\n};\n\nexport default Home;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}